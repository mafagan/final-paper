 \chapter{引言}

在计算机中将常识运用于推理和求解问题是人工智能领域最困难的问题之一，非单调逻辑就是以此为目标的知识表示语言中最重要的一类。
一阶限定理论是非单调逻辑研究领域一个重要的研究分支，可以自然地对一类计算复杂度高的问题进行编码，但缺乏有效的求解器是限制其广泛应用的主要瓶颈。
本文致力于一阶并行限定理论和带优先级的限定理论的计算方法以及其应用的研究。

本章分为四节：首先阐述研究限定理论的计算方法的意义，然后回顾国内外对限定理论的研究情况，接着简述本文要解决的问题和工作，最后介绍对本文的结构。

 \section{本文的意义}

什么是人工智能？《中国大百科全书》之分卷《电子与计算机》(II)给出这样的定义：人工智能是“研究怎样让计算机做一些通常认为需要智能才能做的事情。”

智能的载体通常称为智能主体(intelligent agent)(以后简称为智能体)。
人工智能研究如何让计算机刻画智能体获得知识(knowledge)的途径和处理知识的能力。这里的知识包括常识(common sense)，所谓常识，就是指人们日常生活中应该接受的知识，特别指众所周知的知识。

在计算机中将常识运用于推理和求解问题是人工智能领域最困难的问题之一。为解决此问题，必须要建立一套能够实现知识处理的理论。
对知识的处理方式主要包括知识表示、知识推理、知识修正和知识反思等。
其中，如何用知识表示问题以及如何在知识中进行推理，是知识处理中最重要的两方面。
除了传统意义上的经典一阶逻辑的单调推理， 知识推理还包括一种重要的推理――非单调推理(non-monotonic reasoning)。研究非单调推理的逻辑被称之为非单调逻辑(non-monotonic reasoning)。

在非单调推理中，常识推理(common reasoning)是其中一种重要的推理方式。下面举个例子，说明什么是常识推理。我们知道并非所有鸟都会飞，而是正常情况下或者典型情况下鸟都会飞。若我们只知道“Tweety是一只鸟”，
那么我们就会推出结论“Tweety会飞”。通常我们认为这个推理是合理的，只要没有其他证据说明Tweety是一只不正常的鸟或有什么不合理的地方使得Tweety不会飞。
例如，若我们还知道了“Tweety是一只鸵鸟”，而我们还推出“Tweety会飞”这就不合理了，因为我们通常认为鸵鸟不会飞。
最后，我们会推出结论“Tweety不会飞”的结论。
这样的推理就是常识推理。

常识推理有一个认识论特性：前提包含的信息对推出结论而言是不完备的。例如，“鸟会飞”通常只是说鸟在通常情况下是会飞的，允许有例外的情况。
常识推理的这种信息不完备性是本质的。
首先，在实践中，智能体很难得到完备的信息后再进行推理。其次，在智能体自以为已经掌握完备信息的情况下，也可能因为实际情况出现变化而使得信息不完备。

虽然在日常生活中人们经常使用常识来进行推理，
但是用形式化的方式来表示这种推理方式却非常困难。
只有建立一套完善的推理机制和理论，计算机才能模拟人类的思考，实现运用常识来进行推理。
而限定理论(Circumscription)就是一种刻画常识推理的经典的非单调逻辑。

图灵奖获得者、人工智能领域先驱John McCarthy在上世纪八十年代初提出了一种叫做限定理论的非单调逻辑理论\cite{McCarthy1980}，
然后在1986年扩展了他之前提出的限定概念，将限定理论从限定一个谓词扩展到同时限定多个谓词，并称之为并行限定理论(Parallel Circumscription)\cite{McCarthy1986}。
Vladimir Lifschitz于1987年用另一种角度去阐释“限定”这一概念，引入了“逐点”和“优先级”的思想，提出了逐点的限定理论(Pointwise Circumscription)\cite{Lifschitz1986}。
1994年，Vladimir Lifschitz在\cite{Lifschitz1994}中对John McCarthy的限定理论进行了改进，引入了谓词“优先级”的思想，提出了带优先级的限定理论(Prioritized Circumscription)的概念，
并给出了并行和带优先级的限定理论精确的数学定义。

一阶限定理论是非单调逻辑研究领域一个重要的研究分支，具有很强的表达能力，可以自然的对一类计算复杂度高的问题进行编码。
用$\L$ukaszewicz Witold的话来说，限定理论是所有非单调逻辑中最迷人、同时也最具争
议的一种\cite{kaukaszewicz1990non}。
但是目前缺乏有效的求解器是限制其广泛应用的主要瓶颈。

一阶限定理论可以描述很多最小化模型的问题，包括一些故障诊断问题，如电路诊断问题等；还可以描述情景演算、时态约束下的动作推理等问题。这些问题同时也具有重要的实际意义。

对于一阶限定理论计算方法的研究和求解器的实现有着两方面的意义：
在理论研究上，通过对一阶限定理论、稳定模型语义和各种析取逻辑程序的研究，找出这些非单调逻辑语言之间的可译性关系，并对翻译过程进行优化，可以提供实现非单调逻辑求解器的一种思路；
在应用方面，将一阶限定理论应用于一类计算复杂度高的组合搜索极小模型问题的表示与推理，诸如电路诊断、稳定婚姻等问题以及
带限定理论的描述逻辑和不一致数据库的极小修复等领域，提供了用限定理论求解的思路。

 \section{研究背景与现状}



自限定理论诞生以来，国内外的研究者与学者一直致力于研究如何计算限定理论，以求在计算机中实现这种能够处理常识知识的逻辑系统。

Marco Cadoli等人提出了一个多项式算法，将一个带可变谓词的限定理论的推理问题转化为一个没有可变谓词的限定理论的推理问题，简化了限定理论的推理问题的计算方法。

1994年，Vladimir Lifschitz在\cite{Lifschitz1994}中总结了限定理论的性质，并利用这些性质提出了简化限定理论的方法，例如谓词完备，就能将形如$F(x)\rightarrow P(x)$的一阶限定理论化简为与之等价的一阶公式$F(x)\leftrightarrow P(x)$，以及消去可变常元方法，利用正反公式方法等。

Patrick Doherty等人于1997年在\cite{Doherty1997}提出了一个算法将在限定理论语义下的一类一阶理论归约为一个一阶理论，
在利用Tablueax方法计算该一阶理论，从而实现在固定Herbrand域和带可变谓词的限定理论的求解方法。
实质上，他们将一个受限的二阶逻辑下的计算问题转化为一个一阶逻辑下的计算问题。

2004年，Toshiko Wakaki和Katsumi Inoue将带优先级的限定理论重新编译成一个逻辑程序\cite{WakakiI2004}，在利用一个回答集求解器实现一个限定理论求解器来求出所有的极小模型。
但是，他们的方法必须限制输入的限定理论不能够带存在量词，而且必须限制在一个固定的Herbrand域，实际上他们实现了一个命题限定理论的求解器。

后来Emilia Oikarinen和Tomi Janhunen在\cite{oikarinen2007linear,Oikarinen2008}中利用了析取逻辑程序中的饱和技术\cite{eiter1995computational}，
提出了一个线性时间的翻译算法，将带优先级的限定理论转化为一个析取逻辑程序，将求极小模型的问题转化为求回答集的问题。
基于这个翻译算法，他们实现了一个带优先级的限定理论求解器circ2dlp，能够找出输入的理论在给定的有限论域上的所有极小模型。
但是，这一求解器的输入必须是正析取逻辑程序，不允许带存在量词，虽然比起Toshiko Wakaki等人的方法有更好求解效率，
但是仍然属于一种命题限定理论的求解器，表达能力不强，在表示问题上有一定的编码约束，往往让人看起来不直观和不自然。

Joohyung Lee等人在2009年提出了在限定理论语义下的一类“典型的”一阶理论，直接等价于稳定模型语义下的一阶理论\cite{Lee2009f2lp,Kim2009}。
通过一个回答集求解器计算稳定模型语义下的一阶理论，从而实现计算这类一阶限定理论的求解器。

2011年，章衡等人提出了将任意一个不带可变谓词的在限定理论语义下的一阶理论在在任意论域转化为与之等价的稳定模型语义下的一阶理论的翻译算法\cite{Heng2011,Heng2011thesis}，
将计算限定理论嵌入到计算稳定模型中。

Martin Gebser等人在2011年提出了一个扩展逻辑程序的元程序\cite{gebser2011complex}，
能够找出输入的扩展逻辑程序在某个优先级的集合包含下的极小模型，也就是计算带优先级的限定理论。
实际上，该元程序也是基于逻辑程序中的饱和技术\cite{eiter1995computational}，
但不同于Emilia Oikarinen等人的求解器，他们的元程序可以接受$\#sum$约束，使得他们的求解器具有更强的表达能力，能够应用在更多的问题上。

国内外的研究者和学者不但关注在限定理论的计算方法的研究上，而且不断地在探索如何更好地应用这个逻辑工具。
John McCarthy在扩展并行限定理论的时候，就为其找出各种各样的应用\cite{McCarthy1986}。
G. Neelakantan Kartha和Vladimir Lifschitz利用限定理论将有间接效果的动作形式化\cite{kartha1995simple}。
Murray Shanahan将限定理论应用于事件演算，表示事件的动作和效果\cite{shanahan1999event}。
Piero Bonatti等人将限定理论引入到描述逻辑中，添加了非单调特征，形式化了可废止继承\cite{BonattiLW06}。
陈保平等人提出一种基于限定理论的溯因解释求法\cite{chen1997based}。
姜云飞等人将限定理论同规划识别相结合，证明在一定限制下由观察现象求出的最小规划集与对这些现象作限定获得的解集是一样的\cite{jiang2002based}。

一阶限定理论是非单调逻辑研究领域一个重要的研究分支，可以自然的对一类计算复杂度高的问题进行编码表示，
但是目前正需要一个既不影响其对问题的表达自然性，又能保证其求解效率的计算方法来使一阶限定理论拥有更广泛的应用。

 \section{本文的工作}

对一个知识表示语言来说，它对问题的表达自然性和计算效率就如同鱼与熊掌，我们往往不能二者兼得。
高阶逻辑能够十分自然直观地表示大部分数学知识，但是但是在计算机上实现其有效推理却十分困难，其实际应用仍然不尽人意；
而逻辑程序在求解问题上有较高的效率，但却是建立在牺牲一定的表达自然性的基础上，存在量词的不允许限制了它表示问题的灵活性和简洁性。
在表达自然性和计算效率之间取得一个优秀的平衡是一项极具挑战性的任务，这也是本文工作的一个目标。

本文致力于一阶并行限定理论和带优先级的限定理论的计算方法以及其应用的研究，以下为本文的主要工作：

本文将任意一个在限定理论语义下的一阶理论在多项式时间内翻译为另一个与之等价的在稳定模型语义下的一阶理论。
然后分别提出三个主要翻译：从一阶并行限定理论到一阶稳定理论$Tr_v$，从若干个一阶并行限定理论的合取到一阶稳定理论$Tr^s_v$，
从一阶带优先级的限定理论到一阶稳定理论$Tr_p$；
另外，$Tr^s_v$可以扩展到适用于一阶带优先级的稳定理论$Tr^p_v$。
这些翻译没有对论域进行限制，保证了在一般论域上原一阶限定理论与翻译后的一阶稳定理论的等价性。
本文还证明了，在不管辅助谓词的解释的情况下，原一阶限定理论与翻译后的一阶稳定理论在任意论域上是等价的。
从一种二阶逻辑转化到另一种更容易实现的二阶逻辑，没有减弱表达能力和表达自然性，这是本文的核心工作。

本文针对于一阶存在量词，提出了消去存在量词的优化翻译。
对于一般一阶理论，一阶存在量词的存在是无法避免的，而存在量词在回答集程序中是难以计算的，
因此消去存在量词就很有必要。
本文提出的消去存在量词的优化算法，不仅减少了引入的辅助谓词，而且大大减少了翻译造成的理论的规模的增长，有效地提高计算效率。
该优化翻译的正确性也在本文中得到证明。

基于以上的翻译和优化，
本文将在限定理论语义下的一阶理论最终转化为回答集程序，通过调用回答集求解器，
从而实现了一个能够在给定的论域中求出所有极小模型的通用一阶限定理论求解器cfo2lp。
充分利用了回答集求解器的计算高效率，同时又保证了一阶限定理论的表达能力，这是本文提出的计算方法的重要特征。

以最小电路诊断问题和扩展的稳定婚姻问题为例，本文与另外两个命题的限定理论求解器circ2dlp和metasp进行了实验比较。
通过比较分析，在表达能力上，本文的求解器cfo2lp能够更自然更直观的表示问题。
实验表明，在不需要存在量词表示的问题上，本文的求解器cfo2lp与metasp具有相当的计算效率，优于circ2dlp；
在某些需要存在量词表示的问题上，metasp具有较优秀的计算效率，cfo2lp次之，circ2dlp表现最差。

%限定理论作为非单调逻辑中重要的一个分支，可以应用于表示很多领域中的问题。
%本文将此计算方法应用于带限定理论的描述逻辑的扩展以及非一致的数据库的最小修复上。
%对这些问题，我们能够用一阶限定理论直观自然地表示，然后用限定理论求解器cfo2lp有效地解决。

 \section{本文的安排}

 本文首先介绍了研究限定理论的意义以及现状，
 然后介绍了与限定理论相关的逻辑基础知识，
 接着阐述了如何将限定理论转化为稳定模型语义，并给出详细的证明，
 然后对一阶限定理论求解器的实现进行了描述，
 紧接着就是过实验评价本文的求解器的效率。
 %以及应用于其他领域，
 最后对本文工作的总结以及后续工作的展望。

 本文的章节安排如下：

 第二章介绍了与限定理论相关的基础知识，包括经典逻辑，限定理论语义，稳定模型语义以及回答集程序。

 第三章阐述了如何将限定理论转化为稳定模型语义，介绍了分别从一阶并行限定理论、若干个一阶并行限定理论、一阶带优先级的限定理论，到一阶稳定理论的等价翻译算法，
 并证明了在不管辅助谓词的解释的情况下，原理论与翻译后的理论在任意论域上的等价性。

 第四章提出了消去存在量词的优化算法，并证明其正确性，分析了其优化效果。

 第五章基于这些翻译算法和优化算法，描述了实现通用一阶限定理论的求解器的计算框架，并与命题限定理论求解器进行了比较分析。

 第六章以最小电路诊断问题和扩展的稳定婚姻问题为例，与另外两个命题求解器进行实验对比，展现本文的求解器的效率。

% 第六章将本文的求解器应用在带限定理论的描述逻辑的扩展以及非一致的数据库的最小修复上。

% 第七章总结了本文的工作，跟与计算限定理论的相关工作进行了对比，以及对未来后续工作的展望。
 第七章总结了本文的工作，以及对未来后续工作的展望。 